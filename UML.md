# UML (Unified Modeling Language): 통합 모델링 언어

- 모델을 만드는 표준 언어
- 시험해볼 구체적인 것이 있을 경우, 코드로 시험해보는 것보다 UML로 시험해보는 쪽이 비용이 덜 들 때 주로 사용한다.
   - 다른 사람들과의 의사소통 또는 설계 논의
   - 전체 시스템의 구조 및 클래스의 의존성 파악
   - 유지보수를 위한 설계의 back-end 문서

### 구성
- 구조 다이어그램 7개, 행위 다이어그램 7개로 총 14종류의 다이어그램이 있다.
- 구조 다이어그램은 시스템의 개념, 관계 등의 측면에서 요소들을 나타내고 각 요소들의 정적인 면을 보는 것
- 행위 다이어그램은 각 요소들 혹은 요소들간의 변화나 흐름, 주고받는 데이터 등의 동작을 보기 위한 것
- 클래스 다이어그램은 구조 다이어그램에 포함된다.
- 클래스 다이어그램은 의존 관계를 명확히 보게 해주며, 순환 의존이 발생하는 지점을 찾아내서 어떻게 순환고리를 깨는 것이 가장 좋은지 결정할 수 있게 해준다.

### 목적에 따른 사용
- 개념 
   - 문제 도메인의 구조를 나타내며 사람이 풀고자 하는 문제 도메인 안에 있는 개념과 추상적 개념을 기술하기 위한 것
- 명세 
   - 소프트웨어의 설계 혹은 완성된 소프트웨어의 구현 설명 목적등으로 사용.
   - 소스코드와 관계가 깊다.
- 구현
   - 명세와 같은 맥락으로 소스코드와 관계가 깊다.

## 클래스 다이어 그램의 요소

### 클래스
- 이름, 속성(프로퍼티), 기능(메서드)을 표현하는 3개의 구획이 있다.
- 속성과 기능은 옵션이고 이름은 필수사항이다.
- 세부사항을 상세하게 적는것은 필요시에 목적에 따라 구현한다.
- 3개 구획 이외에 미리 정의되거나 사용자 정의 된 모델 속성을 나타내기 위한 추가 구획도 사용할 수 있다.
![](https://i.imgur.com/5p6xIHt.png)

### 스테레오 타입
- 기본요소 외에 추가적인 확장요소를 나타내는 것
- << >> 길러멧 (guillement) 사이에 기록
- static은 밑줄로 표현
- {readOnly}는 final 사용하는 상수를 의미
- 스테레오 타입으로 많이 사용되는 것은 프로토콜(interface), utility, abstrct, enumeration 등이 있다.
- enum을 작성한다면 case를 같이 작성해주는 것이 좋다.
- extension은 확장의 의미를 가지기 때문에 이를 따로 구현하는 것보다는 하나의 타입으로 설명하는 것이 좋다.
![](https://i.imgur.com/AO30Hkw.png)


### Abstract Class/ Method (추상 클래스/ 메서드), 프로토콜
- 추상클래스란 1개 이상의 메서드가 구현체가 없고 명세만 존재하는 클래스를 뜻함.
- 이탤릭체나 {abstract} 프로퍼티로 표기

![](https://i.imgur.com/uASeT0S.png)


## 클래스간의 관계
- 쉽게 의존관계를 파악하기 위해 사용

![](https://i.imgur.com/BkzALpD.png)

### 일반화 (Generalization)
- 하나의 범주로 표현하는 것 (일반화) => ex) 학생, 교수는 person 이다
- 부모클래스와 자식클래스의 상속 관계를 나타낸다.
- 자식클래스가 주체가 되어 부모클래스로 generalization 하는 것을 의미 (자식 -> 부모)
- 반대로 부모 -> 자식은 specialize (구체화) 하는 것이다.
- 부모클래스가 추상 클래스인 경우 인터페이스의 메서드 구현과 같이 추상메서드를 반드시 오버라이딩 하여 구현해야 한다


![](https://i.imgur.com/XNWwEjg.png)



### 실체화 (Realization)

- 프로토콜,인터페이스 (바디는 없이 명세, 정의만 있는 경우)의 메서드를 오버라이딩하여 실제 기능으로 구현하는 것을 말한다. swift에서는 프로토콜을 채택하여 준수하는 것을 뜻하는 것 같다.
- 표기법은 2가지가 있다.
   - 프로토콜 (인터페이스) 를 클래스처럼 표기하고 스테레오타입 <<>> 을 추가한다. 그리고 클래스와 프로토콜 (인터페이스) 사이의 실체화 관계는 점선과 삼각형으로 연결
   - 프로토콜 (인터페이스) 를 원으로표기하고 인터페이스의 이름을 명시, 프로토콜과 클래스 사이의 관계는 실선으로 연결

![](https://i.imgur.com/97USlkr.png)


### 의존 (Dependency)

- 클래스 다이어그램에서 일반적으로 제일 많이 사용되는 관계, 어떤 클래스가 다른 클래스를 참조하는 것을 의미
- 내부 프로퍼티에 저장하지 않고 사용하는 관계를 뜻한다.
- 해당객체의 참조를 계속 유지하는 것은 아니다 (그래서 점선으로 표시하나?)
- 어떤 행위를 하는데 타입이 없다면 행위가 일어나지 않을때 의존한다고 표현 => 클래스 내 메서드의 매개변수 자리에 타입이 들어오는 경우
- 이니셜라이저도 의존한다고 표현할 수 있다.
![](https://i.imgur.com/ni7TF6g.png)

```swift
class Person {
    
    func raisePet() -> Pet {
        Pet()
    }
    
    func feedPet(pet: Pet) {
        pet.eat()
    }
}

class Pet {
    
    func eat() { }
}
```


### 연관 (Association), 방향성이 있는 연관 (Directed Association)
- 연관은 보통 다른 객체의 참조를 가지는 프로퍼티를 의미한다.
- 화살표로 참조하는 쪽과 참조 당하는 쪽을 구분
- 모든 관계는 연관이라 말할 수 있다 (큰 범주)

![](https://i.imgur.com/jDtEzEn.png)

```swift
class Person {
    
    let pet: Pet // Person -> Pet Association (연관)
}

class Pet {
    
}
```

### 합성관계 (Composition)
- 클래스 사이에서 전체 또는 부분과 같은 관계를 의미 
- 한 클래스가 다른 클래스를 직접 생성하고 내부 프로퍼티에 할당하여 가지고 있어 생명주기가 같은 경우
- 예를 들어, 컴퓨터를 구성하고 있는 부품들과 컴퓨터에서 컴퓨터에 초점을 맞추고 생각하면 이 컴퓨터가 사라지면서 부품도 같이 없어진다고 생각하면


### 집합관계 (Aggregation)
- 클래스 사이에서 전체 또는 부분 같은 관계 
- 한 클래스가 다른 클래스의 내부 프로퍼티를 가지고 있지만 생명주기가 다른 경우
- 예를 들어, student를 집합해서 college를 만든다면 초점이 student로 두었을 때 합성관계라고 볼 수 있다. 대학교가 사라지더라도 학생들의 생명주기가 끝나는 것은 아님


---
## 참고
[zdodev.github](https://zdodev.github.io/uml/swift/UML-Class-Diagram/)
[nextree](https://www.nextree.co.kr/p6753/)



