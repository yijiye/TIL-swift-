# 15. 파일시스템

## 학습내용
- 파일
- 디렉토리
- 파일시스템
- 파일할당방법


## 파일과 디렉토리
```
파일이란, 의미있는 정보를 모은 논리적 단위
디렉토리란, 특별한형태의 파일
```

파일에는 속성/메가데이터 정보가 포함된다.
유형은 확장자를 통해 확인할 수 있다.
OS에 의해서만 접근할 수 있기 때문에 OS는 시스템 호출을 제공한다.

### 디렉터리 경로 

최상위 디렉토리를 루트 디렉토리라고 부르며 주로 `/`로 표시한다.
같은 디렉토리에는 동일한 이름의 파일이 존재할 수 없지만 서로 다른 디렉토리는 가능하다.

- 절대경로 : 루트디렉토리부터 자기 자신까지 이르는 경로
- 상대경로 : 현재디렉토리부터 자기 자신까지 이르는 경로

### 디렉터리 엔트리
일반적으로 표 형태로 구성되며 보조기억장치에 저장된다.

---

## 파일 시스템
### 파티셔닝과 포매팅
- 파티셔닝은 저장 장치의 논리적인 영역을 구획하는 작업, 즉 보조기억장치의 영역을 나누는 것
- 포매팅은 보조기억장치가 어떻게 파티셔닝되어 운영되는지 볼 수 있는 작업

### 파일할당방법
운영체제는 파일과 디렉토리를 블록단위로 읽고 쓴다.
파일을 보조기억장치에 할당하는 방법에 대해 알아보자!
- 연속할당
- 불연속할당 
   - 연결할당
   - 색인할당

이렇게 나뉘어져 있고 최근에는 불연속할당을 주로 사용한다.

### 연속할당
가장 단순한 방법으로 보조기억장치 내 연속적인 블록에 파일을 할당하는 방식이다. 단점으로 외부 단편화가 있다.

### 연결할당
연결리스트처럼 블록이 연결되어 있는 방식이다.
순차적으로 블록이 있지 않아도 되는 장점이 있다.
그러나, 첫 번째 블록부터 순차적으로 읽어야 하는 것과 중간에 오류가 발생하면 오류가 발생한 블록 이후부터는 접근하기 어렵다는 단점이 있다.

### 색인할당
파일의 모든 블록 주소를 색인 블록이라는 하나의 블록에 모아 관리하는 방식이다.
디렉터리 엔트리에 파일 이름하고 색인블록 주소를 명시한다.

## FAT 파일 시스템
연결할당의 단점을 보완한 파일 시스템이다. (연결할당 기반의 파일시스템)
각 블록에 포함된 다음 블록의 주소를 한데 모아 테이블 형태로 관리한다.
이러한 테이블을 파일 할당 테이블이라 한다.

디렉터리 엔트리에는 파일이름과 첫 번째 파일 주소가 들어있다.
FAT는 메모리에 캐시될 수 있어 연결할당의 첫 번째 단점인 속도가 느리다는 점을 개선했다.

## 유닉스 파일 시스템
i-node를 이용하는 색인 할당 기반의 파일시스템이다.
15개의 블록만 담을 수 있기 때문에 크기가 큰 경우
단일 간접 블록 - 이중 간접 블록 - 삼중 간점 블록 등을 활용할 수 있다.
